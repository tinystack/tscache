# TSCache 示例

这个目录包含了 TSCache 的各种使用示例，展示了缓存的不同功能和特性。

## 示例文件

- `basic_usage.go` - 基础使用示例，包括 Set/Get 操作、JSON 序列化、TTL 过期、删除操作等
- `eviction_policies.go` - 淘汰策略示例，演示 LRU、LFU、FIFO 三种淘汰策略的行为和性能对比
- `compression_demo.go` - 压缩功能示例，展示 Gzip、Zstd 压缩算法的使用和性能对比
- `main.go` - 主程序，用于运行不同的示例

## 运行示例

### 前提条件

确保你在 TSCache 项目的根目录下，并且已经安装了 Go 1.21 或更高版本。

### 运行单个示例

```bash
# 运行基础使用示例
go run examples/*.go basic

# 运行淘汰策略示例
go run examples/*.go eviction

# 运行压缩功能示例
go run examples/*.go compression
```

### 运行所有示例

```bash
# 运行所有示例
go run examples/*.go all
```

### 查看帮助

```bash
# 查看使用说明
go run examples/*.go
```

## 示例说明

### 基础使用示例 (basic_usage.go)

演示 TSCache 的核心功能：

1. **基本 Set/Get 操作** - 存储和获取字符串数据
2. **JSON 数据序列化** - 存储和获取结构化数据
3. **TTL 过期机制** - 设置数据的生存时间
4. **Delete 操作** - 删除指定的缓存项
5. **统计信息** - 查看缓存的性能统计
6. **Clear 操作** - 清空所有缓存数据

### 淘汰策略示例 (eviction_policies.go)

对比不同淘汰策略的行为：

1. **LRU (最近最少使用)** - 淘汰最久未访问的数据
2. **LFU (最少使用频率)** - 淘汰访问频率最低的数据
3. **FIFO (先进先出)** - 淘汰最早添加的数据
4. **性能对比** - 比较不同策略的性能表现

### 压缩功能示例 (compression_demo.go)

展示压缩功能的使用：

1. **Gzip 压缩** - 使用 Gzip 算法压缩数据
2. **Zstd 压缩** - 使用 Zstd 算法压缩数据
3. **无压缩** - 不使用压缩直接存储
4. **性能对比** - 比较不同压缩算法的性能和压缩比
5. **压缩+TTL** - 压缩功能与 TTL 的结合使用

## 输出示例

运行示例时，你会看到详细的输出信息，包括：

- 操作执行时间
- 数据完整性验证
- 缓存统计信息（命中率、内存使用、淘汰次数等）
- 压缩比和性能对比

## 自定义示例

你可以基于这些示例创建自己的测试代码：

1. 复制相关的示例函数
2. 修改参数和测试数据
3. 添加自己的业务逻辑
4. 运行测试并观察结果

## 注意事项

- 示例中使用的内存限制和 TTL 时间都比较小，便于快速观察效果
- 在生产环境中，请根据实际需求调整这些参数
- 压缩功能适用于较大的数据，小数据可能不会有明显的压缩效果
- 不同的淘汰策略适用于不同的使用场景，请根据访问模式选择合适的策略
